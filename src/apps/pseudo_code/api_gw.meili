/* API Gateway
*  -> [SHA] -> (Rate Limit)
*/ 
// User-customized operations
void epoll_in(sid, event) {
    if (event != EPOLLIN) exit(-1);
    ret = read(sid, buf, SIZE);
    // Authenticate the API call
    hmac_recv = buf.hmac;
    hmac = sha(buf, BLK_SIZE);
    if (hmac_recv == hmac)
        rate_limit(buf);
        redirect(backend);
}
// Meili API invocation
Meili.reg_sock(sid);
Meili.epoll(epoll_in, sid, EPOLLIN);